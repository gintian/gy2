<!DOCTYPE HTML PUBLIC"-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>历史数据</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7"> 
	<script language="JavaScript"src="../../../module/utils/js/template.js"></script>
	<script language='JavaScript' src='../../../components/tableFactory/tableFactory.js'></script>
	<script language="JavaScript" src="../../../module/template/utils/template_util.js"></script>
	<link rel="stylesheet" href="../../../../ext/ext6/resources/ext-theme.css" type="text/css" />

</head>
<style>

</style>
 <body Style="width:100%">
	</body>
  	<script type="text/javascript">
		Ext.Loader.setPath('TemplateHistoryDataUL',"../../../module/template/historydata");
		var url = window.location.search;
		var templateHistory = {};
		function parseUrl(url) {  
			if (url.indexOf('encryptParam')>0){			
				var map = new HashMap();
				map.put("url",url);
			    Rpc({functionId:'MB00001002',async:false,success: parseUrlOK},map);			
			}
			else {
				var params= getRequest(url);
				Ext.apply(templateHistory,params);
			}
	    }
	    function parseUrlOK(form) {  
	    	var result = Ext.decode(form.responseText);
	    	Ext.apply(templateHistory,result);
	    }
		Ext.onReady(function(){
			//解析url的参数，将参数赋给到templateBean
			parseUrl(url);
			Ext.require('TemplateHistoryDataUL.TemplateHistoryData', function(){
				Ext.create("TemplateHistoryDataUL.TemplateHistoryData", {templateHistory:templateHistory});
			});
		});
  </script>
</html>
