<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title></title>

		<meta http-equiv="content-type"content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7">
		
		<script language="JavaScript" src="../../../module/utils/js/template.js"></script>	
   		<script language='JavaScript' src='../../../components/tableFactory/tableFactory.js'></script>
		<script language="JavaScript" src="../../../module/template/utils/template_util.js"></script>
		<script type='text/javascript' src='../../../ckeditor/ckeditor.js'></script>
		<script type='text/javascript' src="../../../components/ckEditor/CKEditor.js"></script>
		
	</head>
	<style>
	.RecordRow {/*td样式*/
		border: inset 1px #e8e8e8;
		BORDER-BOTTOM: #e8e8e8 1pt solid; 
		BORDER-LEFT: #e8e8e8 1pt solid; 
		BORDER-RIGHT: #e8e8e8 1pt solid; 
		BORDER-TOP: #e8e8e8 1pt solid;
		font-size: 12px;
		border-collapse:collapse; 
		height:40px;
		padding:0 5px 0 5px;
	}
	.ListTable {/*table样式*/
		background:#FFFFFF; 
		border-collapse:collapse; 
		font-size:12px;  
		/*color:#666633;*/
	}
	.stylet{
		border-bottom: #e8e8e8 1pt solid;
	}
	</style>
 	<script type="text/javascript">
 			var url = window.location.search;
 			var templateFPrarm ={};
 			//解析url的参数，将参数赋给到templateFPrarm
			parseUrl(url);
			Ext.Loader.setConfig({
				enabled: true,
				paths: {
					'TemplateMainUL': rootPath+'/module/template/templatemain',
					'TemplateNavigation': rootPath+'/module/template/templatenavigation'
				}
			});
			function parseUrl(url) {  
				if (url.indexOf('encryptParam')>0){//加密参数,需要后台解析				
					var map = new HashMap();
					map.put("url",url);
				    Rpc({functionId:'MB00001002',async:false,success: parseUrlOK},map);			
				}
				else {
					var params= getRequest(url);
					Ext.apply(templateFPrarm,params);
				}
			}
			 /**
			  * 赋值后台传回的参数
			  * */
		    function parseUrlOK(form) {  
		    	var result = Ext.decode(form.responseText);
		    	Ext.apply(templateFPrarm,result);
		    }
			Ext.onReady(function(){
				Ext.require('TemplateNavigation.TemplateForm', function(){
					templateform = Ext.create("TemplateNavigation.TemplateForm", {templateFPrarm:templateFPrarm});
				});
			});
	 	</script>
	<body>
	</body>
</html>
